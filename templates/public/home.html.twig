{% extends 'base.html.twig' %}

{% block title %}Home - Cinema Booking{% endblock %}

{% block body %}
<div class="hero">
    <div class="container">
        <h1>Welcome to Cinema Booking</h1>
        <p>Experience the magic of movies â€¢ Book your tickets in seconds</p>
    </div>
</div>

<div class="container">
    {% if trendingMovies|length > 0 %}
    <section class="section">
        <h2 class="section-title">ðŸ”¥ Trending Now</h2>
        <div class="movies-grid">
            {% for movie in trendingMovies %}
            <div class="card">
                {% if movie.image %}
                <img src="{{ asset(movie.image) }}" alt="{{ movie.name }}" class="card-img">
                {% else %}
                <img src="https://via.placeholder.com/300x400?text=No+Image" alt="{{ movie.name }}" class="card-img">
                {% endif %}
                <div class="card-body">
                    <h3 class="card-title">{{ movie.name }}</h3>
                    <p class="card-text">{{ movie.shortDescription ?: movie.description|slice(0, 100) ~ '...' }}</p>
                    <a href="{{ path('movie_details', {id: movie.id}) }}" class="btn">View Details â†’</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if comingSoonMovies|length > 0 %}
    <section class="section">
        <h2 class="section-title">ðŸŽ¬ Coming Soon</h2>
        <div class="movies-grid">
            {% for movie in comingSoonMovies %}
            <div class="card">
                {% if movie.image %}
                <img src="{{ asset(movie.image) }}" alt="{{ movie.name }}" class="card-img">
                {% else %}
                <img src="https://via.placeholder.com/300x400?text=No+Image" alt="{{ movie.name }}" class="card-img">
                {% endif %}
                <div class="card-body">
                    <h3 class="card-title">{{ movie.name }}</h3>
                    <p class="card-text">{{ movie.shortDescription ?: movie.description|slice(0, 100) ~ '...' }}</p>
                    <a href="{{ path('movie_details', {id: movie.id}) }}" class="btn">View Details â†’</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if allMovies|length > 0 %}
    <section class="section">
        <h2 class="section-title">ðŸŽ¥ All Movies</h2>
        <div class="movies-grid">
            {% for movie in allMovies %}
            <div class="card">
                {% if movie.image %}
                <img src="{{ asset(movie.image) }}" alt="{{ movie.name }}" class="card-img">
                {% else %}
                <img src="https://via.placeholder.com/300x400?text=No+Image" alt="{{ movie.name }}" class="card-img">
                {% endif %}
                <div class="card-body">
                    <h3 class="card-title">{{ movie.name }}</h3>
                    <p class="card-text">{{ movie.shortDescription ?: movie.description|slice(0, 100) ~ '...' }}</p>
                    <a href="{{ path('movie_details', {id: movie.id}) }}" class="btn">View Details â†’</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
</div>
{% endblock %}

